---
title: 型推論
description: について説明しますが、どのようにF#コンパイラ値、変数、パラメーター、および戻り値の型を推論します。
ms.date: 05/16/2016
ms.openlocfilehash: 3e61d5c81fde0a48af66a47745123a842dc04cb1
ms.sourcegitcommit: fa38fe76abdc8972e37138fcb4dfdb3502ac5394
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 12/19/2018
ms.locfileid: "53612791"
---
# <a name="type-inference"></a>型推論

このトピックでは、F# コンパイラが値、変数、パラメーターおよび戻り値の型を推論する方法について説明します。

## <a name="type-inference-in-general"></a>推定の一般的な型します。

型の推論という考え方は、F# の構成要素と、コンパイラには、型が推測できません増やした以外の種類を指定する必要はありません。 F# は動的に型指定された言語に、F# での値が所有権が弱い型指定された、明示的な型情報を省略することは限りません。 F#静的に型指定された言語、コンパイラはコンパイル時に、正確な型の各構成体を推測することを意味します。 コンパイラが各構成体の型を推測するのに十分な情報がない場合、コードのどこかに明示的な型の注釈を追加することで通常追加の型についてを指定する必要があります。

## <a name="inference-of-parameter-and-return-types"></a>パラメーターと戻り値の型の推論

パラメーター リストでは、各パラメーターの型を指定するのにはありません。 まだF#、静的に型指定された言語では、したがってすべての値と式、この明確な型をコンパイル時にします。 明示的に指定されていないその型の場合は、コンパイラは、コンテキストに基づいて型を推測します。 型がない場合は指定された、ジェネリックと推論されます。 コードでは、一貫性がない値を使用する場合、このような方法ではなく 1 つ型を推論、コンパイラがエラーを報告する、値の使用箇所をすべてを満たします。

関数の戻り値の型は、関数の最後の式の型によって決定されます。

たとえば、次のコードでは、パラメーターの型で`a`と`b`および戻り値の型はすべてに推定`int`ためリテラル`100`の種類は`int`します。

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-3/snippet301.fs)]

リテラルは、変更することによって型の推定の影響を与えることができます。 行った場合、 `100` 、 `uint32` 、サフィックスが追加された`u`、種類の`a`、 `b`、および戻り値が推論されます`uint32`。

影響を及ぼすことができます関数と、特定の型のみを使用するメソッドなど、型の制限を意味するその他のコンストラクトを使用して、型の推論します。

また、適用できます明示的な型の注釈関数またはメソッド パラメーターまたは変数を式では、次の例に示すようにします。 さまざまな制約との間の競合が発生した場合、エラーが発生します。

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-3/snippet302.fs)]

結局のところ、パラメーターの型の注釈を指定して、関数の戻り値を明示的に指定できます。

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-3/snippet303.fs)]

型の注釈がパラメーターに役立つ一般的なケースは、パラメーターはオブジェクト型であり、メンバーを使用する場合です。

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-3/snippet304.fs)]

## <a name="automatic-generalization"></a>自動ジェネリック化

場合は、関数コードでは、パラメーターの型に依存しない、パラメーターをジェネリックと見なします。 これは呼び出されます*自動ジェネリック化*複雑さを増大させることがなく汎用的なコードを記述するための強力なを指定できます。

たとえば、次の関数は、タプルに任意の型の 2 つのパラメーターを結合します。

[!code-fsharp[Main](../../../samples/snippets/fsharp/lang-ref-3/snippet305.fs)]

型が推論します。

```fsharp
'a -> 'b -> 'a * 'b
```

## <a name="additional-information"></a>追加情報

型の推定については、F# 言語仕様で詳しく説明します。

## <a name="see-also"></a>関連項目

- [自動ジェネリック化](generics/automatic-generalization.md)