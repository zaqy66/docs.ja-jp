---
title: WPF の 3D パフォーマンスの最大化
ms.date: 03/30/2017
helpviewer_keywords:
- 3-D graphics [WPF]
ms.assetid: 4bcf949d-d92f-4d8d-8a9b-1e4c61b25bf6
ms.openlocfilehash: aab9759bcadd52c0af03034cc18512ced01046ce
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/23/2019
ms.locfileid: "54508656"
---
# <a name="maximize-wpf-3d-performance"></a><span data-ttu-id="6ae69-102">WPF の 3D パフォーマンスの最大化</span><span class="sxs-lookup"><span data-stu-id="6ae69-102">Maximize WPF 3D Performance</span></span>
<span data-ttu-id="6ae69-103">使用すると、[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]を 3D コントロールをビルドし、アプリケーションで 3D シーンを含めることがパフォーマンスの最適化を考慮すべき重要です。</span><span class="sxs-lookup"><span data-stu-id="6ae69-103">As you use the [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] to build 3D controls and include 3D scenes in your applications, it is important to consider performance optimization.</span></span> <span data-ttu-id="6ae69-104">このトピックでは、3 D クラスとそれらを使用するときにパフォーマンスを最適化するための推奨事項と共に、アプリケーションのパフォーマンスに影響を与えるプロパティの一覧を示します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-104">This topic provides a list of 3D classes and properties that have performance implications for your application, along with recommendations for optimizing performance when you use them.</span></span>  
  
 <span data-ttu-id="6ae69-105">このトピックには、高度な理解が前提としています[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]3D 機能。</span><span class="sxs-lookup"><span data-stu-id="6ae69-105">This topic assumes an advanced understanding of [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] 3D features.</span></span> <span data-ttu-id="6ae69-106">「描画層 2」に、このドキュメントでの推奨事項が適用-ほぼピクセル シェーダーのバージョン 2.0 と頂点シェーダーのバージョン 2.0 をサポートするハードウェアとして定義されています。</span><span class="sxs-lookup"><span data-stu-id="6ae69-106">The suggestions in this document apply to "rendering tier 2"—roughly defined as hardware that supports pixel shader version 2.0 and vertex shader version 2.0.</span></span> <span data-ttu-id="6ae69-107">詳細については、次を参照してください。[グラフィックスの描画層](../../../../docs/framework/wpf/advanced/graphics-rendering-tiers.md)します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-107">For more details, see [Graphics Rendering Tiers](../../../../docs/framework/wpf/advanced/graphics-rendering-tiers.md).</span></span>  
  
## <a name="performance-impact-high"></a><span data-ttu-id="6ae69-108">パフォーマンスに影響します。High</span><span class="sxs-lookup"><span data-stu-id="6ae69-108">Performance Impact: High</span></span>  
  
|<span data-ttu-id="6ae69-109">プロパティ</span><span class="sxs-lookup"><span data-stu-id="6ae69-109">Property</span></span>|<span data-ttu-id="6ae69-110">推奨事項</span><span class="sxs-lookup"><span data-stu-id="6ae69-110">Recommendation</span></span>|  
|-|-|  
|<xref:System.Windows.Media.Brush>|<span data-ttu-id="6ae69-111">ブラシの速度 (最高への最も遅い):</span><span class="sxs-lookup"><span data-stu-id="6ae69-111">Brush speed (fastest to slowest):</span></span><br /><br /> <xref:System.Windows.Media.SolidColorBrush><br /><br /> <xref:System.Windows.Media.LinearGradientBrush><br /><br /> <xref:System.Windows.Media.ImageBrush><br /><br /> <span data-ttu-id="6ae69-112"><xref:System.Windows.Media.DrawingBrush> (キャッシュ済み)</span><span class="sxs-lookup"><span data-stu-id="6ae69-112"><xref:System.Windows.Media.DrawingBrush> (cached)</span></span><br /><br /> <span data-ttu-id="6ae69-113"><xref:System.Windows.Media.VisualBrush> (キャッシュ済み)</span><span class="sxs-lookup"><span data-stu-id="6ae69-113"><xref:System.Windows.Media.VisualBrush> (cached)</span></span><br /><br /> <xref:System.Windows.Media.RadialGradientBrush><br /><br /> <span data-ttu-id="6ae69-114"><xref:System.Windows.Media.DrawingBrush> (キャッシュされていない)</span><span class="sxs-lookup"><span data-stu-id="6ae69-114"><xref:System.Windows.Media.DrawingBrush> (uncached)</span></span><br /><br /> <span data-ttu-id="6ae69-115"><xref:System.Windows.Media.VisualBrush> (キャッシュされていない)</span><span class="sxs-lookup"><span data-stu-id="6ae69-115"><xref:System.Windows.Media.VisualBrush> (uncached)</span></span>|  
|<xref:System.Windows.UIElement.ClipToBoundsProperty>|<span data-ttu-id="6ae69-116">設定`Viewport3D.ClipToBounds`を false にする必要はありませんたびに[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]のコンテンツを明示的にクリップを<xref:System.Windows.Controls.Viewport3D>Viewport3D の四角形にします。</span><span class="sxs-lookup"><span data-stu-id="6ae69-116">Set `Viewport3D.ClipToBounds` to false whenever you do not need to have [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] explicitly clip the content of a <xref:System.Windows.Controls.Viewport3D> to the Viewport3D’s rectangle.</span></span> [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="6ae69-117">アンチ エイリアス処理されたクリッピングは非常に低速、および`ClipToBounds`は (遅い) 既定で有効に<xref:System.Windows.Controls.Viewport3D>します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-117">antialiased clipping can be very slow, and `ClipToBounds` is enabled (slow) by default on <xref:System.Windows.Controls.Viewport3D>.</span></span>|  
|<xref:System.Windows.UIElement.IsHitTestVisible%2A>|<span data-ttu-id="6ae69-118">設定`Viewport3D.IsHitTestVisible`を必要としないときに false に[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]の内容を考慮する、<xref:System.Windows.Controls.Viewport3D>パフォーマンス マウス ヒット テストします。</span><span class="sxs-lookup"><span data-stu-id="6ae69-118">Set `Viewport3D.IsHitTestVisible` to false whenever you do not need [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] to consider the content of a <xref:System.Windows.Controls.Viewport3D> when performing mouse hit testing.</span></span>  <span data-ttu-id="6ae69-119">ヒット テスト 3 D コンテンツは、ソフトウェアでは行われ、メッシュが多いと低速にすることができます。</span><span class="sxs-lookup"><span data-stu-id="6ae69-119">Hit testing 3D content is done in software and can be slow with large meshes.</span></span> <span data-ttu-id="6ae69-120"><xref:System.Windows.UIElement.IsHitTestVisible%2A> 既定で有効に低速で<xref:System.Windows.Controls.Viewport3D>します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-120"><xref:System.Windows.UIElement.IsHitTestVisible%2A> is enabled (slow) by default on <xref:System.Windows.Controls.Viewport3D>.</span></span>|  
|<xref:System.Windows.Media.Media3D.GeometryModel3D>|<span data-ttu-id="6ae69-121">さまざまな資料または変換に必要な場合にのみ、さまざまなモデルを作成します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-121">Create different models only when they require different Materials or Transforms.</span></span>  <span data-ttu-id="6ae69-122">それ以外の場合、coalesce 多くしよう<xref:System.Windows.Media.Media3D.GeometryModel3D>資料と変換が同じでインスタンスをいくつかの拡大に<xref:System.Windows.Media.Media3D.GeometryModel3D>と<xref:System.Windows.Media.Media3D.MeshGeometry3D>インスタンス。</span><span class="sxs-lookup"><span data-stu-id="6ae69-122">Otherwise, try to coalesce many <xref:System.Windows.Media.Media3D.GeometryModel3D> instances with the same Materials and Transforms into a few larger <xref:System.Windows.Media.Media3D.GeometryModel3D> and <xref:System.Windows.Media.Media3D.MeshGeometry3D> instances.</span></span>|  
|<xref:System.Windows.Media.Media3D.MeshGeometry3D>|<span data-ttu-id="6ae69-123">メッシュのアニメーションなど、フレームごとにメッシュの個々 の頂点を変更する — において効率的とは限りません[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]。</span><span class="sxs-lookup"><span data-stu-id="6ae69-123">Mesh animation—changing the individual vertices of a mesh on a per-frame basis—is not always efficient in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)].</span></span>  <span data-ttu-id="6ae69-124">各頂点が変更されたときに変更通知のパフォーマンスに与える影響を最小限に抑えるには、頂点ごとの変更を実行する前に、ビジュアル ツリーからメッシュをデタッチします。</span><span class="sxs-lookup"><span data-stu-id="6ae69-124">To minimize the performance impact of change notifications when each vertex is modified, detach the mesh from the visual tree before performing per-vertex modification.</span></span>  <span data-ttu-id="6ae69-125">メッシュが変更された後は、ビジュアル ツリーに接続し直します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-125">Once the mesh has been modified, reattach it to the visual tree.</span></span>  <span data-ttu-id="6ae69-126">また、この方法でアニメーション化するメッシュのサイズを最小化してみてください。</span><span class="sxs-lookup"><span data-stu-id="6ae69-126">Also, try to minimize the size of meshes that will be animated in this way.</span></span>|  
|<span data-ttu-id="6ae69-127">3D アンチエイリアシング</span><span class="sxs-lookup"><span data-stu-id="6ae69-127">3D Antialiasing</span></span>|<span data-ttu-id="6ae69-128">レンダリング速度を上げるでのマルチ サンプリングを無効にする<xref:System.Windows.Controls.Viewport3D>添付プロパティを設定して<xref:System.Windows.Media.RenderOptions.EdgeMode%2A>に`Aliased`します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-128">To increase rendering speed, disable multisampling on a <xref:System.Windows.Controls.Viewport3D> by setting the attached property <xref:System.Windows.Media.RenderOptions.EdgeMode%2A> to `Aliased`.</span></span>  <span data-ttu-id="6ae69-129">既定で 3D アンチエイリアシングが無効になって[!INCLUDE[TLA#tla_winxp](../../../../includes/tlasharptla-winxp-md.md)]で有効になっていると[!INCLUDE[TLA#tla_longhorn](../../../../includes/tlasharptla-longhorn-md.md)]1 ピクセルあたり 4 つのサンプルとします。</span><span class="sxs-lookup"><span data-stu-id="6ae69-129">By default, 3D antialiasing is disabled on [!INCLUDE[TLA#tla_winxp](../../../../includes/tlasharptla-winxp-md.md)] and enabled on [!INCLUDE[TLA#tla_longhorn](../../../../includes/tlasharptla-longhorn-md.md)] with 4 samples per pixel.</span></span>|  
|<span data-ttu-id="6ae69-130">テキスト</span><span class="sxs-lookup"><span data-stu-id="6ae69-130">Text</span></span>|<span data-ttu-id="6ae69-131">3D シーンでテキストをライブ (live されているため、<xref:System.Windows.Media.DrawingBrush>または<xref:System.Windows.Media.VisualBrush>) 遅くなることです。</span><span class="sxs-lookup"><span data-stu-id="6ae69-131">Live text in a 3D scene (live because it’s in a <xref:System.Windows.Media.DrawingBrush> or <xref:System.Windows.Media.VisualBrush>) can be slow.</span></span> <span data-ttu-id="6ae69-132">代わりに、テキストのイメージを使用しようとしています (を使用して<xref:System.Windows.Media.Imaging.RenderTargetBitmap>)、テキストは変更しない限り、します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-132">Try to use images of the text instead (via <xref:System.Windows.Media.Imaging.RenderTargetBitmap>) unless the text will change.</span></span>|  
|<xref:System.Windows.Media.TileBrush>|<span data-ttu-id="6ae69-133">使用する場合、<xref:System.Windows.Media.VisualBrush>または<xref:System.Windows.Media.DrawingBrush>3D シーンでブラシのコンテンツが静的でないため、再試行してください、ブラシのキャッシュ (添付プロパティを設定<xref:System.Windows.Media.RenderOptions.CachingHint%2A>に`Cache`)。</span><span class="sxs-lookup"><span data-stu-id="6ae69-133">If you must use a <xref:System.Windows.Media.VisualBrush> or a <xref:System.Windows.Media.DrawingBrush> in a 3D scene because the brush’s content is not static, try caching the brush (setting the attached property <xref:System.Windows.Media.RenderOptions.CachingHint%2A> to `Cache`).</span></span>  <span data-ttu-id="6ae69-134">スケールの最小値と最大の無効化のしきい値の設定 (添付プロパティを持つ<xref:System.Windows.Media.RenderOptions.CacheInvalidationThresholdMinimum%2A>と<xref:System.Windows.Media.RenderOptions.CacheInvalidationThresholdMaximum%2A>) できるように、キャッシュされたブラシは、必要なレベルの品質を維持しながら、あまり頻繁に再生成するされません。</span><span class="sxs-lookup"><span data-stu-id="6ae69-134">Set the minimum and maximum scale invalidation thresholds (with the attached properties <xref:System.Windows.Media.RenderOptions.CacheInvalidationThresholdMinimum%2A> and <xref:System.Windows.Media.RenderOptions.CacheInvalidationThresholdMaximum%2A>) so that the cached brushes won’t be regenerated too frequently, while still maintaining your desired level of quality.</span></span>  <span data-ttu-id="6ae69-135">既定では、<xref:System.Windows.Media.DrawingBrush>と<xref:System.Windows.Media.VisualBrush>はキャッシュされません、つまり、たびに再表示すると何かのブラシで塗りつぶされますがある、ブラシのコンテンツ全体する必要があります最初に再描画される中間の画面にします。</span><span class="sxs-lookup"><span data-stu-id="6ae69-135">By default, <xref:System.Windows.Media.DrawingBrush> and <xref:System.Windows.Media.VisualBrush> are not cached, meaning that every time something painted with the brush has to be re-rendered, the entire content of the brush must first be re-rendered to an intermediate surface.</span></span>|  
|<xref:System.Windows.Media.Effects.BitmapEffect>|<span data-ttu-id="6ae69-136"><xref:System.Windows.Media.Effects.BitmapEffect> 影響を受けるすべてのハードウェア高速化なしで表示される内容を強制的にします。</span><span class="sxs-lookup"><span data-stu-id="6ae69-136"><xref:System.Windows.Media.Effects.BitmapEffect> forces all affected content to be rendered without hardware acceleration.</span></span>  <span data-ttu-id="6ae69-137">最適なパフォーマンスを使用しないでください<xref:System.Windows.Media.Effects.BitmapEffect>します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-137">For best performance, do not use <xref:System.Windows.Media.Effects.BitmapEffect>.</span></span>|  
  
## <a name="performance-impact-medium"></a><span data-ttu-id="6ae69-138">パフォーマンスに影響します。Medium</span><span class="sxs-lookup"><span data-stu-id="6ae69-138">Performance Impact: Medium</span></span>  
  
|<span data-ttu-id="6ae69-139">プロパティ</span><span class="sxs-lookup"><span data-stu-id="6ae69-139">Property</span></span>|<span data-ttu-id="6ae69-140">推奨事項</span><span class="sxs-lookup"><span data-stu-id="6ae69-140">Recommendation</span></span>|  
|-|-|  
|<xref:System.Windows.Media.Media3D.MeshGeometry3D>|<span data-ttu-id="6ae69-141">メッシュが共有の頂点を三角形として定義されているし、これらの頂点が同じ位置、標準、およびテクスチャの座標にある、共有される各頂点を 1 回だけ定義し、でのインデックスを使用して、三角形を定義<xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-141">When a mesh is defined as abutting triangles with shared vertices and those vertices have the same position, normal, and texture coordinates, define each shared vertex only once and then define your triangles by index with <xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>.</span></span>|  
|<xref:System.Windows.Media.ImageBrush>|<span data-ttu-id="6ae69-142">サイズを明示的に制御がある場合は、テクスチャのサイズを最小限に抑えてください (使用している場合、<xref:System.Windows.Media.Imaging.RenderTargetBitmap>や、 <xref:System.Windows.Media.ImageBrush>)。</span><span class="sxs-lookup"><span data-stu-id="6ae69-142">Try to minimize texture sizes when you have explicit control over the size (when you’re using a <xref:System.Windows.Media.Imaging.RenderTargetBitmap> and/or an <xref:System.Windows.Media.ImageBrush>).</span></span>  <span data-ttu-id="6ae69-143">下部のテクスチャの解像度が画質の低下、品質とパフォーマンスのバランスを探してみましょうできますに注意してください。</span><span class="sxs-lookup"><span data-stu-id="6ae69-143">Note that lower resolution textures can decrease visual quality, so try to find the right balance between quality and performance.</span></span>|  
|<span data-ttu-id="6ae69-144">不透明度</span><span class="sxs-lookup"><span data-stu-id="6ae69-144">Opacity</span></span>|<span data-ttu-id="6ae69-145">半透明の 3D の反射) などのコンテンツを描画、ときに、不透明度プロパティを使用して、ブラシまたはマテリアル (を使用して<xref:System.Windows.Media.Brush.Opacity%2A>または<xref:System.Windows.Media.Media3D.DiffuseMaterial.Color%2A>) 半透明別に作成するのではなく<xref:System.Windows.Controls.Viewport3D>を設定して`Viewport3D.Opacity`1 未満の値にします。</span><span class="sxs-lookup"><span data-stu-id="6ae69-145">When rendering translucent 3D content (such as reflections), use the opacity properties on brushes or materials (via <xref:System.Windows.Media.Brush.Opacity%2A> or <xref:System.Windows.Media.Media3D.DiffuseMaterial.Color%2A>) instead of creating a separate translucent <xref:System.Windows.Controls.Viewport3D> by setting `Viewport3D.Opacity` to a value less than 1.</span></span>|  
|<xref:System.Windows.Controls.Viewport3D>|<span data-ttu-id="6ae69-146">数を最小限に抑える<xref:System.Windows.Controls.Viewport3D>シーンでを使用しているオブジェクトします。</span><span class="sxs-lookup"><span data-stu-id="6ae69-146">Minimize the number of <xref:System.Windows.Controls.Viewport3D> objects you’re using in a scene.</span></span>  <span data-ttu-id="6ae69-147">モデルごとに個別の Viewport3D インスタンスを作成するのではなく、同じ Viewport3D で多くの 3D モデルを配置します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-147">Put many 3D models in the same Viewport3D rather than creating separate Viewport3D instances for each model.</span></span>|  
|<xref:System.Windows.Freezable>|<span data-ttu-id="6ae69-148">通常は再利用すると解消<xref:System.Windows.Media.Media3D.MeshGeometry3D>、<xref:System.Windows.Media.Media3D.GeometryModel3D>ブラシ、および資料。</span><span class="sxs-lookup"><span data-stu-id="6ae69-148">Typically it’s beneficial to reuse <xref:System.Windows.Media.Media3D.MeshGeometry3D>, <xref:System.Windows.Media.Media3D.GeometryModel3D>, Brushes, and Materials.</span></span>  <span data-ttu-id="6ae69-149">派生しているために、すべてのどれ`Freezable`します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-149">All are multiparentable since they’re derived from `Freezable`.</span></span>|  
|<xref:System.Windows.Freezable>|<span data-ttu-id="6ae69-150">呼び出す、<xref:System.Windows.Freezable.Freeze%2A>アプリケーションでそのプロパティが残っているとフリーズ可能オブジェクトのメソッドは変更されません。</span><span class="sxs-lookup"><span data-stu-id="6ae69-150">Call the <xref:System.Windows.Freezable.Freeze%2A> method on Freezables when their properties will remain unchanged in your application.</span></span>  <span data-ttu-id="6ae69-151">固定は、ワーキング セットの低下し、速度を上げることができます。</span><span class="sxs-lookup"><span data-stu-id="6ae69-151">Freezing can decrease working set and increase speed.</span></span>|  
|<xref:System.Windows.Media.Brush>|<span data-ttu-id="6ae69-152">使用<xref:System.Windows.Media.ImageBrush>の代わりに<xref:System.Windows.Media.VisualBrush>または<xref:System.Windows.Media.DrawingBrush>ときに、ブラシの内容は変更されません。</span><span class="sxs-lookup"><span data-stu-id="6ae69-152">Use <xref:System.Windows.Media.ImageBrush> instead of <xref:System.Windows.Media.VisualBrush> or <xref:System.Windows.Media.DrawingBrush> when the content of the brush will not change.</span></span>  <span data-ttu-id="6ae69-153">2D のコンテンツに変換できる、<xref:System.Windows.Controls.Image>を介して<xref:System.Windows.Media.Imaging.RenderTargetBitmap>しで使用、<xref:System.Windows.Media.ImageBrush>します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-153">2D content can be converted to an <xref:System.Windows.Controls.Image> via <xref:System.Windows.Media.Imaging.RenderTargetBitmap> and then used in an <xref:System.Windows.Media.ImageBrush>.</span></span>|  
|<xref:System.Windows.Media.Media3D.GeometryModel3D.BackMaterial%2A>|<span data-ttu-id="6ae69-154">使用しない<xref:System.Windows.Media.Media3D.GeometryModel3D.BackMaterial%2A>実際の背面を確認する必要があるなければ、<xref:System.Windows.Media.Media3D.GeometryModel3D>します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-154">Don’t use <xref:System.Windows.Media.Media3D.GeometryModel3D.BackMaterial%2A> unless you actually need to see the back faces of your <xref:System.Windows.Media.Media3D.GeometryModel3D>.</span></span>|  
|<xref:System.Windows.Media.Media3D.Light>|<span data-ttu-id="6ae69-155">ライトの速度 (最高への最も遅い):</span><span class="sxs-lookup"><span data-stu-id="6ae69-155">Light speed (fastest to slowest):</span></span><br /><br /> <xref:System.Windows.Media.Media3D.AmbientLight><br /><br /> <xref:System.Windows.Media.Media3D.DirectionalLight><br /><br /> <xref:System.Windows.Media.Media3D.PointLight><br /><br /> <xref:System.Windows.Media.Media3D.SpotLight>|  
|<xref:System.Windows.Media.Media3D.MeshGeometry3D>|<span data-ttu-id="6ae69-156">これらの制限の下のメッシュのサイズを維持しようとしてください。</span><span class="sxs-lookup"><span data-stu-id="6ae69-156">Try to keep mesh sizes under these limits:</span></span><br /><br /> <span data-ttu-id="6ae69-157"><xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>:20, 001<xref:System.Windows.Media.Media3D.Point3D>インスタンス</span><span class="sxs-lookup"><span data-stu-id="6ae69-157"><xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>: 20,001 <xref:System.Windows.Media.Media3D.Point3D> instances</span></span><br /><br /> <span data-ttu-id="6ae69-158"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>:60,003<xref:System.Int32>インスタンス</span><span class="sxs-lookup"><span data-stu-id="6ae69-158"><xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>: 60,003 <xref:System.Int32> instances</span></span>|  
|<xref:System.Windows.Media.Media3D.Material>|<span data-ttu-id="6ae69-159">素材の速度 (最高への最も遅い):</span><span class="sxs-lookup"><span data-stu-id="6ae69-159">Material speed (fastest to slowest):</span></span><br /><br /> <xref:System.Windows.Media.Media3D.EmissiveMaterial><br /><br /> <xref:System.Windows.Media.Media3D.DiffuseMaterial><br /><br /> <xref:System.Windows.Media.Media3D.SpecularMaterial>|  
|<xref:System.Windows.Media.Brush>|[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] <span data-ttu-id="6ae69-160">一貫した方法で 3D を非表示ブラシ (黒のアンビエント ブラシ、クリア ブラシなど) オプトアウトしません。</span><span class="sxs-lookup"><span data-stu-id="6ae69-160">3D doesn't opt out of invisible brushes (black ambient brushes, clear brushes, etc.) in a consistent way.</span></span>  <span data-ttu-id="6ae69-161">シーンからこれらを省略することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="6ae69-161">Consider omitting these from your scene.</span></span>|  
|<xref:System.Windows.Media.Media3D.MaterialGroup>|<span data-ttu-id="6ae69-162">各<xref:System.Windows.Media.Media3D.Material>で、<xref:System.Windows.Media.Media3D.MaterialGroup>のため多くの資料を含む別のレンダリング パスと、単純な資料があっても、ご使用の GPU の塗りつぶしの要求を大幅に向上させることができます。</span><span class="sxs-lookup"><span data-stu-id="6ae69-162">Each <xref:System.Windows.Media.Media3D.Material> in a <xref:System.Windows.Media.Media3D.MaterialGroup> causes another rendering pass, so including many materials, even simple materials, can dramatically increase the fill demands on your GPU.</span></span>  <span data-ttu-id="6ae69-163">内の素材の数を最小限に抑える、<xref:System.Windows.Media.Media3D.MaterialGroup>します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-163">Minimize the number of materials in your <xref:System.Windows.Media.Media3D.MaterialGroup>.</span></span>|  
  
## <a name="performance-impact-low"></a><span data-ttu-id="6ae69-164">パフォーマンスに影響します。Low</span><span class="sxs-lookup"><span data-stu-id="6ae69-164">Performance Impact: Low</span></span>  
  
|<span data-ttu-id="6ae69-165">プロパティ</span><span class="sxs-lookup"><span data-stu-id="6ae69-165">Property</span></span>|<span data-ttu-id="6ae69-166">推奨事項</span><span class="sxs-lookup"><span data-stu-id="6ae69-166">Recommendation</span></span>|  
|-|-|  
|<xref:System.Windows.Media.Media3D.Transform3DGroup>|<span data-ttu-id="6ae69-167">アニメーションが不要またはデータ変換を複数の変換を含むグループを使用する代わりに、バインディングを使用して、1 つと<xref:System.Windows.Media.Media3D.MatrixTransform3D>がそれ以外の場合独立して存在変換グループ内のすべての変換の製品であることには、設定します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-167">When you don’t need animation or data binding, instead of using a transform group containing multiple transforms, use a single <xref:System.Windows.Media.Media3D.MatrixTransform3D>, setting it to be the product of all the transforms that would otherwise exist independently in the transform group.</span></span>|  
|<xref:System.Windows.Media.Media3D.Light>|<span data-ttu-id="6ae69-168">ライト、シーン内の数を最小限に抑えます。</span><span class="sxs-lookup"><span data-stu-id="6ae69-168">Minimize the number of lights in your scene.</span></span> <span data-ttu-id="6ae69-169">強制的にシーンが多すぎるの電気[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]ソフトウェア レンダリングにフォールバックします。</span><span class="sxs-lookup"><span data-stu-id="6ae69-169">Too many lights in a scene will force [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)] to fall back to software rendering.</span></span>  <span data-ttu-id="6ae69-170">制限は、約 110<xref:System.Windows.Media.Media3D.DirectionalLight>オブジェクト、70<xref:System.Windows.Media.Media3D.PointLight>オブジェクト、または 40<xref:System.Windows.Media.Media3D.SpotLight>オブジェクト。</span><span class="sxs-lookup"><span data-stu-id="6ae69-170">The limits are roughly 110 <xref:System.Windows.Media.Media3D.DirectionalLight> objects, 70 <xref:System.Windows.Media.Media3D.PointLight> objects, or 40 <xref:System.Windows.Media.Media3D.SpotLight> objects.</span></span>|  
|<xref:System.Windows.Media.Media3D.ModelVisual3D>|<span data-ttu-id="6ae69-171">静的オブジェクトから個別に置くことによってオブジェクトの移動を区切る<xref:System.Windows.Media.Media3D.ModelVisual3D>インスタンス。</span><span class="sxs-lookup"><span data-stu-id="6ae69-171">Separate moving objects from static objects by putting them in separate <xref:System.Windows.Media.Media3D.ModelVisual3D> instances.</span></span>  <span data-ttu-id="6ae69-172">ModelVisual3D はより「重い」<xref:System.Windows.Media.Media3D.GeometryModel3D>変換された境界がキャッシュされるためです。</span><span class="sxs-lookup"><span data-stu-id="6ae69-172">ModelVisual3D is "heavier" than <xref:System.Windows.Media.Media3D.GeometryModel3D> because it caches transformed bounds.</span></span>  <span data-ttu-id="6ae69-173">GeometryModel3D には、モデルに最適化されました。ModelVisual3D は、シーン ノードに最適化されます。</span><span class="sxs-lookup"><span data-stu-id="6ae69-173">GeometryModel3D is optimized to be a model; ModelVisual3D is optimized to be a scene node.</span></span>  <span data-ttu-id="6ae69-174">GeometryModel3D の共有インスタンスをシーンに配置するのにには、ModelVisual3D を使用します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-174">Use ModelVisual3D to put shared instances of GeometryModel3D into the scene.</span></span>|  
|<xref:System.Windows.Media.Media3D.Light>|<span data-ttu-id="6ae69-175">シーン内のライトの数を変更する回数を最小限に抑えます。</span><span class="sxs-lookup"><span data-stu-id="6ae69-175">Minimize the number of times you change the number of lights in the scene.</span></span>  <span data-ttu-id="6ae69-176">ライトの数のそれぞれの変更では、その構成が以前存在していた (とそのシェーダーがキャッシュしたため) 場合を除き、再生成され、再コンパイルを強制します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-176">Each change of light count forces a shader regeneration and recompilation unless that configuration has existed previously (and thus had its shader cached).</span></span>|  
|<span data-ttu-id="6ae69-177">淡色</span><span class="sxs-lookup"><span data-stu-id="6ae69-177">Light</span></span>|<span data-ttu-id="6ae69-178">黒のライトには、表示されませんが、時間を表示するために追加されます。省略することを検討してください。</span><span class="sxs-lookup"><span data-stu-id="6ae69-178">Black lights won’t be visible, but they will add to render time; consider omitting them.</span></span>|  
|<xref:System.Windows.Media.Media3D.MeshGeometry3D>|<span data-ttu-id="6ae69-179">大規模なコレクションの構築時を最小限に抑える[!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)]、MeshGeometry3D のなど<xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>、 <xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A>、 <xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A>、および<xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>値の母集団の前に、コレクションのサイズを事前。</span><span class="sxs-lookup"><span data-stu-id="6ae69-179">To minimize the construction time of large collections in [!INCLUDE[TLA#tla_winclient](../../../../includes/tlasharptla-winclient-md.md)], such as a MeshGeometry3D’s <xref:System.Windows.Media.Media3D.MeshGeometry3D.Positions%2A>, <xref:System.Windows.Media.Media3D.MeshGeometry3D.Normals%2A>, <xref:System.Windows.Media.Media3D.MeshGeometry3D.TextureCoordinates%2A>, and <xref:System.Windows.Media.Media3D.MeshGeometry3D.TriangleIndices%2A>, pre-size the collections before value population.</span></span> <span data-ttu-id="6ae69-180">可能であれば、配列やリストなど、コレクションのコンス トラクター事前設定されたデータの構造体を渡します。</span><span class="sxs-lookup"><span data-stu-id="6ae69-180">If possible, pass the collections’ constructors prepopulated data structures such as arrays or Lists.</span></span>|  
  
## <a name="see-also"></a><span data-ttu-id="6ae69-181">関連項目</span><span class="sxs-lookup"><span data-stu-id="6ae69-181">See also</span></span>
- [<span data-ttu-id="6ae69-182">3-D グラフィックスの概要</span><span class="sxs-lookup"><span data-stu-id="6ae69-182">3-D Graphics Overview</span></span>](../../../../docs/framework/wpf/graphics-multimedia/3-d-graphics-overview.md)
