---
title: サービスとクライアントを構成するためのバインディングの使用
ms.date: 03/30/2017
helpviewer_keywords:
- bindings [WCF], using
ms.assetid: c39479c3-0766-4a17-ba4c-97a74607f392
ms.openlocfilehash: 8aed2b2efa0408371a8da47fef64340fd30fffcc
ms.sourcegitcommit: 6b308cf6d627d78ee36dbbae8972a310ac7fd6c8
ms.translationtype: MT
ms.contentlocale: ja-JP
ms.lasthandoff: 01/23/2019
ms.locfileid: "54577101"
---
# <a name="using-bindings-to-configure-services-and-clients"></a><span data-ttu-id="d3137-102">サービスとクライアントを構成するためのバインディングの使用</span><span class="sxs-lookup"><span data-stu-id="d3137-102">Using Bindings to Configure Services and Clients</span></span>
<span data-ttu-id="d3137-103">バインディングとは、エンドポイントへの接続に必要な通信の詳細設定を指定するオブジェクトです。</span><span class="sxs-lookup"><span data-stu-id="d3137-103">Bindings are objects that specify the communication details required to connect to an endpoint.</span></span> <span data-ttu-id="d3137-104">具体的には、バインディングには構成情報が含まれており、この情報を使用してそれぞれのエンドポイントまたはクライアント チャネルで使用されるトランスポート仕様、ワイヤ形式 (メッセージ エンコード) 仕様、プロトコル仕様が定義され、クライアントまたはサービスのランタイムが作成されます。</span><span class="sxs-lookup"><span data-stu-id="d3137-104">More specifically, bindings contain configuration information that is used to create the client or service runtime by defining the specifics of transports, wire-formats (message encoding), and protocols to use for the respective endpoint or client channel.</span></span> <span data-ttu-id="d3137-105">機能している Windows Communication Foundation (WCF) サービスを作成するには、サービス内の各エンドポイントにバインディングが必要です。</span><span class="sxs-lookup"><span data-stu-id="d3137-105">To create a functioning Windows Communication Foundation (WCF) service, each endpoint in the service requires a binding.</span></span> <span data-ttu-id="d3137-106">ここでは、エンドポイントにおけるバインディングの概要と定義方法、特定のバインディングの指定方法を説明します。</span><span class="sxs-lookup"><span data-stu-id="d3137-106">This topic explains what bindings are, how they are defined, and how a particular binding is specified for an endpoint.</span></span>  
  
## <a name="what-a-binding-defines"></a><span data-ttu-id="d3137-107">バインディングの定義内容</span><span class="sxs-lookup"><span data-stu-id="d3137-107">What a Binding Defines</span></span>  
 <span data-ttu-id="d3137-108">バインディングの情報は、非常に基本的な情報にすることも複雑なものにすることもできます。</span><span class="sxs-lookup"><span data-stu-id="d3137-108">The information in a binding can be very basic or very complex.</span></span> <span data-ttu-id="d3137-109">最も基本的なバインディングはトランスポート プロトコル (HTTP など) のみを指定したもので、これはエンドポイントへの接続に必ず使用します。</span><span class="sxs-lookup"><span data-stu-id="d3137-109">The most basic binding specifies only the transport protocol (such as HTTP) that must be used to connect to the endpoint.</span></span> <span data-ttu-id="d3137-110">一般的に、バインディングに含まれるエンドポイントへの接続方法を示す情報は、次のカテゴリのいずれかに当てはまります。</span><span class="sxs-lookup"><span data-stu-id="d3137-110">More generally, the information a binding contains about how to connect to an endpoint falls into one of the categories in the following table.</span></span>  
  
 <span data-ttu-id="d3137-111">プロトコル</span><span class="sxs-lookup"><span data-stu-id="d3137-111">Protocols</span></span>  
 <span data-ttu-id="d3137-112">使用されているセキュリティ機構 (信頼性の高いメッセージング機能またはトランザクション コンテキストのフロー設定のいずれか) を決定します。</span><span class="sxs-lookup"><span data-stu-id="d3137-112">Determines the security mechanism being used, either reliable messaging capability or transaction context flow settings.</span></span>  
  
 <span data-ttu-id="d3137-113">Transport</span><span class="sxs-lookup"><span data-stu-id="d3137-113">Transport</span></span>  
 <span data-ttu-id="d3137-114">使用する基本のトランスポート プロトコル (TCP や HTTP など) を決定します。</span><span class="sxs-lookup"><span data-stu-id="d3137-114">Determines the underlying transport protocol to use (for example, TCP or HTTP).</span></span>  
  
 <span data-ttu-id="d3137-115">エンコーディング</span><span class="sxs-lookup"><span data-stu-id="d3137-115">Encoding</span></span>  
 <span data-ttu-id="d3137-116">メッセージ エンコード (Text/XML、バイナリ、MTOM (Message Transmission Optimization Mechanism) など) を決定します。これは、メッセージをネットワーク上のバイト ストリームとしてどのように表現するかを決定します。</span><span class="sxs-lookup"><span data-stu-id="d3137-116">Determines the message encoding, for example, text/XML, binary, or Message Transmission Optimization Mechanism (MTOM), which determines how messages are represented as byte streams on the wire.</span></span>  
  
## <a name="system-provided-bindings"></a><span data-ttu-id="d3137-117">システム標準のバインディング</span><span class="sxs-lookup"><span data-stu-id="d3137-117">System-Provided Bindings</span></span>  
 <span data-ttu-id="d3137-118">WCF には、ほとんどのアプリケーションの要件とシナリオをカバーするように設計されたシステム指定のバインディングのセットが含まれています。</span><span class="sxs-lookup"><span data-stu-id="d3137-118">WCF includes a set of system-provided bindings that are designed to cover most application requirements and scenarios.</span></span> <span data-ttu-id="d3137-119">システム指定のバインディングの例のいくつかを次のクラスで示します。</span><span class="sxs-lookup"><span data-stu-id="d3137-119">The following classes represent some examples of system-provided bindings:</span></span>  
  
-   <span data-ttu-id="d3137-120"><xref:System.ServiceModel.BasicHttpBinding>:WS に準拠している HTTP プロトコル バインディング Web サービスに接続するのに適した-Basic Profile 1.1 仕様 (たとえば、ASP.NET Web サービス (ASMX)-ベースのサービス)。</span><span class="sxs-lookup"><span data-stu-id="d3137-120"><xref:System.ServiceModel.BasicHttpBinding>: An HTTP protocol binding suitable for connecting to Web services that conforms to the WS-I Basic Profile 1.1 specification (for example, ASP.NET Web services [ASMX]-based services).</span></span>  
  
-   <span data-ttu-id="d3137-121"><xref:System.ServiceModel.WSHttpBinding>:HTTP プロトコル バインディングを Web に準拠するエンドポイントに接続するために適したサービス仕様のプロトコルです。</span><span class="sxs-lookup"><span data-stu-id="d3137-121"><xref:System.ServiceModel.WSHttpBinding>: An HTTP protocol binding suitable for connecting to endpoints that conform to the Web services specifications protocols.</span></span>  
  
-   <span data-ttu-id="d3137-122"><xref:System.ServiceModel.NetNamedPipeBinding>:.NET binary エンコードとフレーム技術と組み合わせてを名前付きパイプ トランスポートの Windows でを使用して、同じコンピューター上の他の WCF エンドポイントに接続します。</span><span class="sxs-lookup"><span data-stu-id="d3137-122"><xref:System.ServiceModel.NetNamedPipeBinding>: Uses the .NET binary encoding and framing technologies in conjunction with the Windows named pipe transport to connect to other WCF endpoints on the same machine.</span></span>  
  
-   <span data-ttu-id="d3137-123"><xref:System.ServiceModel.NetMsmqBinding>:.NET binary エンコードとフレーム メッセージ キュー (MSMQ とも呼ばれます) と組み合わせて技術を使用して、他の WCF エンドポイントとメッセージをキューに置かれた接続を作成します。</span><span class="sxs-lookup"><span data-stu-id="d3137-123"><xref:System.ServiceModel.NetMsmqBinding>: Uses the .NET binary encoding and framing technologies in conjunction with the Message Queuing (also known as MSMQ) to create queued message connections with other WCF endpoints.</span></span>  
  
 <span data-ttu-id="d3137-124">詳細についてで、システム指定のバインディングの完全な一覧を参照してください。 [System-Provided Bindings](../../../docs/framework/wcf/system-provided-bindings.md)します。</span><span class="sxs-lookup"><span data-stu-id="d3137-124">For a complete list of system-provided bindings, with descriptions, see [System-Provided Bindings](../../../docs/framework/wcf/system-provided-bindings.md).</span></span>  
  
## <a name="custom-bindings"></a><span data-ttu-id="d3137-125">カスタム バインディング</span><span class="sxs-lookup"><span data-stu-id="d3137-125">Custom Bindings</span></span>  
 <span data-ttu-id="d3137-126">システム指定のバインディング コレクションに、サービス アプリケーションに必要な機能の適切な組み合わせが含まれていない場合は、<xref:System.ServiceModel.Channels.CustomBinding> バインディングを作成できます。</span><span class="sxs-lookup"><span data-stu-id="d3137-126">If the system-provided binding collection does not have the correct combination of features that a service application requires, you can create a <xref:System.ServiceModel.Channels.CustomBinding> binding.</span></span> <span data-ttu-id="d3137-127">要素の詳細については、<xref:System.ServiceModel.Channels.CustomBinding>バインドを参照してください[ \<customBinding >](../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md)と[カスタム バインド](../../../docs/framework/wcf/extending/custom-bindings.md)します。</span><span class="sxs-lookup"><span data-stu-id="d3137-127">For more information about the elements of a <xref:System.ServiceModel.Channels.CustomBinding> binding, see [\<customBinding>](../../../docs/framework/configure-apps/file-schema/wcf/custombinding.md) and [Custom Bindings](../../../docs/framework/wcf/extending/custom-bindings.md).</span></span>  
  
## <a name="using-bindings"></a><span data-ttu-id="d3137-128">バインディングの使用</span><span class="sxs-lookup"><span data-stu-id="d3137-128">Using Bindings</span></span>  
 <span data-ttu-id="d3137-129">バインディングを使用する際には、次の 2 つの基本手順があります。</span><span class="sxs-lookup"><span data-stu-id="d3137-129">Using bindings entails two basic steps:</span></span>  
  
1.  <span data-ttu-id="d3137-130">バインディングを選択、または定義します。</span><span class="sxs-lookup"><span data-stu-id="d3137-130">Select or define a binding.</span></span> <span data-ttu-id="d3137-131">最も簡単な方法は、システム指定のバインディングを 1 つ選択し、それを既定の設定で使用することです。</span><span class="sxs-lookup"><span data-stu-id="d3137-131">The easiest method is to choose one of the system-provided bindings and use its default settings.</span></span> <span data-ttu-id="d3137-132">また、システム指定のバインディングを選択し、そのプロパティを要件に適した値に再設定することもできます。</span><span class="sxs-lookup"><span data-stu-id="d3137-132">You can also choose a system-provided binding and reset its property values to suit your requirements.</span></span> <span data-ttu-id="d3137-133">さらに、カスタム バインディングを作成し、すべてのプロパティを必要に応じて設定することもできます。</span><span class="sxs-lookup"><span data-stu-id="d3137-133">Alternatively, you can create a custom binding and set every property as required.</span></span>  
  
2.  <span data-ttu-id="d3137-134">このバインディングを使用するエンドポイントを作成します。</span><span class="sxs-lookup"><span data-stu-id="d3137-134">Create an endpoint that uses this binding.</span></span>  
  
## <a name="code-and-configuration"></a><span data-ttu-id="d3137-135">コードおよび構成</span><span class="sxs-lookup"><span data-stu-id="d3137-135">Code and Configuration</span></span>  
 <span data-ttu-id="d3137-136">バインディングは、コードまたは構成を使用して定義または構成できます。</span><span class="sxs-lookup"><span data-stu-id="d3137-136">You can define or configure bindings through code or configuration.</span></span> <span data-ttu-id="d3137-137">この 2 つの方法は使用するバインディングの種類に依存しません。たとえば、システム指定のバインディングまたは <xref:System.ServiceModel.Channels.CustomBinding> バインディングのどちらを使用していても関係ありません。</span><span class="sxs-lookup"><span data-stu-id="d3137-137">These two approaches are independent of the type of binding used, for example, whether you are using a system-provided or a <xref:System.ServiceModel.Channels.CustomBinding> binding.</span></span> <span data-ttu-id="d3137-138">一般に、コードを使用すると、コンパイル時に開発者がバインディングの定義を完全に制御できます。</span><span class="sxs-lookup"><span data-stu-id="d3137-138">In general, using code gives you complete control over the definition of a binding when you compile.</span></span> <span data-ttu-id="d3137-139">システム管理者または WCF サービスまたはクライアントのバインディングのパラメーターを変更するユーザーは、その一方で、構成を使用しています。</span><span class="sxs-lookup"><span data-stu-id="d3137-139">Using configuration, on the other hand, allows a system administrator or the user of a WCF service or client to change the parameters of bindings.</span></span> <span data-ttu-id="d3137-140">特定のマシンの要件を予測し、ネットワークの状態は、WCF アプリケーションの展開方法がないために、このような柔軟性が望ましい多くの場合。</span><span class="sxs-lookup"><span data-stu-id="d3137-140">This flexibility is often desirable because there is no way to predict the specific machine requirements and network conditions into which a WCF application is to be deployed.</span></span> <span data-ttu-id="d3137-141">バインディング (およびアドレス) 情報がコードから分離されているため、管理者はアプリケーションの再コンパイルや再配置を行わずにバインディングの詳細を変更できます。</span><span class="sxs-lookup"><span data-stu-id="d3137-141">Separating the binding (and addressing) information from the code allows administrators to change the binding details without having to recompile or redeploy the application.</span></span> <span data-ttu-id="d3137-142">バインディングをコードに定義した場合、構成ファイルに記述されている構成ベースの定義はすべて上書きされます。</span><span class="sxs-lookup"><span data-stu-id="d3137-142">Note that if the binding is defined in code, it overwrites any configuration-based definitions made in the configuration file.</span></span> <span data-ttu-id="d3137-143">この方法についての例は、以下のトピックを参照してください。</span><span class="sxs-lookup"><span data-stu-id="d3137-143">For examples of these approaches, see the following topics:</span></span>  
  
-   <span data-ttu-id="d3137-144">[方法: マネージ アプリケーションで WCF サービスをホスト](../../../docs/framework/wcf/how-to-host-a-wcf-service-in-a-managed-application.md)コードでバインディングの作成の例を示します。</span><span class="sxs-lookup"><span data-stu-id="d3137-144">[How to: Host a WCF Service in a Managed Application](../../../docs/framework/wcf/how-to-host-a-wcf-service-in-a-managed-application.md) provides an example of creating a binding in code.</span></span>  
  
-   <span data-ttu-id="d3137-145">[方法: クライアントを構成する](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md)の構成を使用してクライアントを作成する例を示します。</span><span class="sxs-lookup"><span data-stu-id="d3137-145">[How to: Configure a Client](../../../docs/framework/wcf/how-to-configure-a-basic-wcf-client.md) provides an example of creating a client using configuration.</span></span>  
  
## <a name="see-also"></a><span data-ttu-id="d3137-146">関連項目</span><span class="sxs-lookup"><span data-stu-id="d3137-146">See also</span></span>
- [<span data-ttu-id="d3137-147">エンドポイントの作成の概要</span><span class="sxs-lookup"><span data-stu-id="d3137-147">Endpoint Creation Overview</span></span>](../../../docs/framework/wcf/endpoint-creation-overview.md)
- [<span data-ttu-id="d3137-148">方法: 構成でサービス バインディングを指定します。</span><span class="sxs-lookup"><span data-stu-id="d3137-148">How to: Specify a Service Binding in Configuration</span></span>](../../../docs/framework/wcf/how-to-specify-a-service-binding-in-configuration.md)
- [<span data-ttu-id="d3137-149">方法: コードでのサービス バインドを指定します。</span><span class="sxs-lookup"><span data-stu-id="d3137-149">How to: Specify a Service Binding in Code</span></span>](../../../docs/framework/wcf/how-to-specify-a-service-binding-in-code.md)
- [<span data-ttu-id="d3137-150">方法: 構成でクライアント バインディングを指定します。</span><span class="sxs-lookup"><span data-stu-id="d3137-150">How to: Specify a Client Binding in Configuration</span></span>](../../../docs/framework/wcf/how-to-specify-a-client-binding-in-configuration.md)
- [<span data-ttu-id="d3137-151">方法: コードでクライアント バインディングを指定します。</span><span class="sxs-lookup"><span data-stu-id="d3137-151">How to: Specify a Client Binding in Code</span></span>](../../../docs/framework/wcf/how-to-specify-a-client-binding-in-code.md)
